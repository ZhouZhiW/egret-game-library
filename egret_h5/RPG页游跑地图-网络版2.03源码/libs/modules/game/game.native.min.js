var egret;!function(e){var t;!function(t){var n=function(t){function n(){t.call(this),this.urlData={}}__extends(n,t);var r=(__define,n),a=r.prototype;return a.proceed=function(t){var n=this;if(t.dataFormat==e.URLLoaderDataFormat.TEXTURE)return void n.loadTexture(t);if(t.dataFormat==e.URLLoaderDataFormat.SOUND)return void n.loadSound(t);var r=t._request,a=n.getVirtualUrl(e.$getUrl(r)),i=new e.HttpRequest;i.open(a,r.method==e.URLRequestMethod.POST?e.HttpMethod.POST:e.HttpMethod.GET);for(var o=r.requestHeaders.length,E=0;o>E;E++){var s=r.requestHeaders[E];i.setRequestHeader(s.name,s.value)}i.addEventListener(e.Event.COMPLETE,function(){t.data=i.response,e.Event.dispatchEvent(t,e.Event.COMPLETE)},this),i.addEventListener(e.IOErrorEvent.IO_ERROR,function(){e.IOErrorEvent.dispatchIOErrorEvent(t)},this),i.responseType=t.dataFormat==e.URLLoaderDataFormat.BINARY?e.HttpResponseType.ARRAY_BUFFER:e.HttpResponseType.TEXT,i.send(r.data)},a.loadSound=function(t){function n(e){t.dispatchEvent(e)}function r(e){i(),t.dispatchEvent(e)}function a(n){i(),t.data=s,e.$callAsync(function(){t.dispatchEventWith(e.Event.COMPLETE)},o)}function i(){s.removeEventListener(e.Event.COMPLETE,a,o),s.removeEventListener(e.IOErrorEvent.IO_ERROR,r,o),s.removeEventListener(e.ProgressEvent.PROGRESS,n,o)}var o=this,E=this.getVirtualUrl(t._request.url),s=new e.Sound;s.addEventListener(e.Event.COMPLETE,a,o),s.addEventListener(e.IOErrorEvent.IO_ERROR,r,o),s.addEventListener(e.ProgressEvent.PROGRESS,n,o),s.load(E)},a.loadTexture=function(t){function n(e){t.dispatchEvent(e)}function r(e){i(),t.dispatchEvent(e)}function a(n){i();var r=v.data,a=new e.Texture;a._setBitmapData(r),t.data=a,e.$callAsync(function(){t.dispatchEventWith(e.Event.COMPLETE)},o)}function i(){v.removeEventListener(e.Event.COMPLETE,a,o),v.removeEventListener(e.IOErrorEvent.IO_ERROR,r,o),v.removeEventListener(e.ProgressEvent.PROGRESS,n,o)}var o=this,E=t._request,s=o.getVirtualUrl(E.url),v=new e.ImageLoader;v.addEventListener(e.Event.COMPLETE,a,o),v.addEventListener(e.IOErrorEvent.IO_ERROR,r,o),v.addEventListener(e.ProgressEvent.PROGRESS,n,o),v.load(s)},a.isNetUrl=function(e){return-1!=e.indexOf("http://")||-1!=e.indexOf("HTTP://")},a.getVirtualUrl=function(e){return e},n.getNetContext=function(){return null==n._instance&&(n._instance=new n),n._instance},n.__use_asyn=null==egret_native.readFileAsync?!1:!0,n}(e.HashObject);t.NativeNetContext=n,e.registerClass(n,"egret.native.NativeNetContext",["egret.NetContext"]),e.NetContext=n}(t=e["native"]||(e["native"]={}))}(egret||(egret={}));
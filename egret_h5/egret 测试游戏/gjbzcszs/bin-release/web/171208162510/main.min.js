var __reflect=this&&this.__reflect||function(t,e,i){t.__class__=e,i?i.push(e):i=[e],t.__types__=t.__types__?i.concat(t.__types__):i},__extends=this&&this.__extends||function(t,e){function i(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)},bgshape=function(t){function e(e){var i=t.call(this)||this;return i.Id=e,i}return __extends(e,t),e}(egret.Shape);__reflect(bgshape.prototype,"bgshape");var configData=function(){function t(){}return t}();configData.titel="国际标准测试智商!",configData.dsc="可能是最靠谱的智商测试，国际标准权威题目，全方位评测你的大脑各方面能力，专业的评分制为你测定出最准确的的智商分数！",configData.data=[{url:"g1_jpg",title:"找出最与众不同的那一个",result:["A","B","C","D","E"]},{url:"g2_jpg",title:"全班学生排成一行，从左数和从右数小明都是第15名，全班共有学生多少人?",result:["15","25","29","30"]},{url:"g3_jpg",title:"哪项是图中系列钟表的延续？",result:["A","B","C","D","E","F"]},{url:"g4_jpg",title:"长跑比赛中，你超过了第二名，请问现在你是第几名？",result:["第一名","第二名","第三名","倒数第二"]},{url:"g5_jpg",title:"找出与“确信”意义最相近的一个词",result:["明确","正确","肯定","真实"]},{url:"g6_jpg",title:"如果所有的甲都是乙，没有一个乙是丙，那么，“一定没有一个丙是甲”。这句话是",result:["正确的","错误的","不对也不错"]},{url:"g7_jpg",title:"一本书的价格降低了50％。现在，如果按原价出售，提高了百分之几?",result:["35%","50%","75%","100%"]},{url:"g8_jpg",title:"小明比小强大，小红比小明小。下列陈述中哪一句最正确?",result:["小红比小强大","小红比小强小","小红和小强一样大","无法确定谁大谁小"]},{url:"g9_jpg",title:"把图中的各部分组合起来，可以得到哪个数字？",result:["3","4","5","6"]}],configData.result=[[0,0,3,0,0],[0,0,1,0],[0,1,0,0,0,0],[0,1,0,0],[0,0,1,0],[0,1,0],[0,0,0,1],[0,0,0,1],[0,0,0,1]],configData.selectScore=null,configData.MainLayer=null,configData.gameLevel=0,configData.downUrl=[{img:"down_jpg",url:"http://wx.wxhtml5.com/hlmy/quyouxi.htm"}],__reflect(configData.prototype,"configData");var gamelayer=function(t){function e(e){var i=t.call(this)||this;return i.gameIndex=e,i.addEventListener(egret.Event.ADDED_TO_STAGE,i.onAddToStage,i),i}return __extends(e,t),e.prototype.onAddToStage=function(){this.Createtitlebg()},e.prototype.Createtitlebg=function(){var t=this.createBitmapByName("gamebg_png");this.addChild(t),this.CrateDown(),this.titlebg=new egret.Bitmap,this.titlebg.texture=RES.getRes(configData.data[this.gameIndex].url),this.titlebg.y=100,this.titlebg.width=egret.MainContext.instance.stage.stageWidth,this.titlebg.x=egret.MainContext.instance.stage.stageWidth/2,this.titlebg.anchorOffsetX=this.titlebg.width/2,this.addChild(this.titlebg),this.Createtitle(this.titlebg.height)},e.prototype.createBitmapByName=function(t){var e=new egret.Bitmap,i=RES.getRes(t);return e.texture=i,e},e.prototype.Createtitle=function(t){var e=new egret.Shape;e.graphics.beginFill(11592187),e.graphics.drawRect(0,0,egret.MainContext.instance.stage.stageWidth,100),e.graphics.endFill(),this.addChild(e),e.y=this.titlebg.y+t-20,this.title=this.CreateText(configData.data[this.gameIndex].title),this.title.y=e.y,this.title.width=egret.MainContext.instance.stage.stageWidth-80,this.title.lineSpacing=5,this.title.height=100,this.title.x=this.title.width/2+40,this.title.anchorOffsetX=this.title.width/2,this.title.textAlign=egret.HorizontalAlign.CENTER,this.title.verticalAlign=egret.VerticalAlign.MIDDLE,this.title.textColor=5541332,this.AddResult()},e.prototype.AddResult=function(){for(var t=configData.data[this.gameIndex].result,e=0;e<t.length;e++)this.CreateResult(e,t[e])},e.prototype.CreateResult=function(t,e){var i=new bgshape(t);i.graphics.beginFill(5541330),i.graphics.drawRoundRect(0,0,500,50,20,20),i.graphics.endFill(),this.addChild(i),i.x=egret.MainContext.instance.stage.stageWidth/2,i.y=this.title.y+150+70*t,i.anchorOffsetX=i.width/2,i.touchEnabled=!0,i.addEventListener(egret.TouchEvent.TOUCH_TAP,this.enterGame,this);var n=this.CreateText(e);n.size=25,n.y=this.title.y+150+70*t,n.width=egret.MainContext.instance.stage.stageWidth-80,n.height=50,n.x=n.width/2+40,n.anchorOffsetX=n.width/2,n.textAlign=egret.HorizontalAlign.CENTER,n.verticalAlign=egret.VerticalAlign.MIDDLE,n.textColor=16777215},e.prototype.enterGame=function(t){configData.selectScore+=configData.result[configData.gameLevel][t.currentTarget.Id],this.parent.removeChild(this),setTimeout(function(){if(configData.gameLevel++,configData.gameLevel>configData.data.length-1){var t=new gameOver;configData.MainLayer.addChild(t)}else{var i=new e(configData.gameLevel);configData.MainLayer.addChild(i)}},100)},e.prototype.CreateText=function(t){var e=new egret.TextField;return e.text=t,this.addChild(e),e},e.prototype.CrateDown=function(){var t=0,e=this.createBitmapByName(configData.downUrl[t].img);e.width=egret.MainContext.instance.stage.stageWidth,e.y=0,e.height=100,this.addChild(e),e.touchEnabled=!0,e.addEventListener(egret.TouchEvent.TOUCH_BEGIN,function(){top.window.location.href=configData.downUrl[t].url},this)},e}(egret.DisplayObjectContainer);__reflect(gamelayer.prototype,"gamelayer");var LoadingUI=function(t){function e(){var e=t.call(this)||this;return document.getElementById("saveContainer").style.display="none",e.createView(),e}return __extends(e,t),e.prototype.createView=function(){this.textField=new egret.TextField,this.addChild(this.textField),this.textField.y=300,this.textField.width=480,this.textField.height=100,this.textField.textAlign="center"},e.prototype.setProgress=function(t,e){this.textField.text="Loading..."+t+"/"+e},e}(egret.Sprite);__reflect(LoadingUI.prototype,"LoadingUI");var Main=function(t){function e(){var e=t.call(this)||this;return e.addEventListener(egret.Event.ADDED_TO_STAGE,e.onAddToStage,e),e}return __extends(e,t),e.prototype.onAddToStage=function(t){this.loadingView=new LoadingUI,this.stage.addChild(this.loadingView),RES.addEventListener(RES.ResourceEvent.CONFIG_COMPLETE,this.onConfigComplete,this),RES.loadConfig("resource/default.res.json","resource/")},e.prototype.onConfigComplete=function(t){RES.removeEventListener(RES.ResourceEvent.CONFIG_COMPLETE,this.onConfigComplete,this),RES.addEventListener(RES.ResourceEvent.GROUP_COMPLETE,this.onResourceLoadComplete,this),RES.addEventListener(RES.ResourceEvent.GROUP_LOAD_ERROR,this.onResourceLoadError,this),RES.addEventListener(RES.ResourceEvent.GROUP_PROGRESS,this.onResourceProgress,this),RES.addEventListener(RES.ResourceEvent.ITEM_LOAD_ERROR,this.onItemLoadError,this),RES.loadGroup("preload")},e.prototype.onResourceLoadComplete=function(t){"preload"==t.groupName&&(this.stage.removeChild(this.loadingView),RES.removeEventListener(RES.ResourceEvent.GROUP_COMPLETE,this.onResourceLoadComplete,this),RES.removeEventListener(RES.ResourceEvent.GROUP_LOAD_ERROR,this.onResourceLoadError,this),RES.removeEventListener(RES.ResourceEvent.GROUP_PROGRESS,this.onResourceProgress,this),RES.removeEventListener(RES.ResourceEvent.ITEM_LOAD_ERROR,this.onItemLoadError,this),this.createGameScene())},e.prototype.onItemLoadError=function(t){console.warn("Url:"+t.resItem.url+" has failed to load")},e.prototype.onResourceLoadError=function(t){console.warn("Group:"+t.groupName+" has failed to load"),this.onResourceLoadComplete(t)},e.prototype.onResourceProgress=function(t){"preload"==t.groupName&&this.loadingView.setProgress(t.itemsLoaded,t.itemsTotal)},e.prototype.createGameScene=function(){configData.MainLayer=this;var t=new start;this.addChild(t)},e.prototype.createBitmapByName=function(t){var e=new egret.Bitmap,i=RES.getRes(t);return e.texture=i,e},e}(egret.DisplayObjectContainer);__reflect(Main.prototype,"Main");var gameOver=function(t){function e(){var e=t.call(this)||this;return e.addEventListener(egret.Event.ADDED_TO_STAGE,e.onAddToStage,e),e}return __extends(e,t),e.prototype.onAddToStage=function(){var t=0;t=configData.selectScore<=2?5:configData.selectScore<=4?4:configData.selectScore<=6?3:configData.selectScore<=8?2:1,CanvasToimages_1(t),this.imageTagVisible(!0)},e.prototype.imageTagVisible=function(t){t?document.getElementById("saveContainer").style.display="block":document.getElementById("saveContainer").style.display="none"},e.prototype.CreatgeText=function(t){var e=(document.body.clientWidth,new egret.Shape);e.graphics.beginFill(9948159),e.graphics.drawRect(0,0,egret.MainContext.instance.stage.stageWidth,80),e.graphics.endFill(),this.addChild(e),e.y=50;var i=new egret.TextField;i.text=t,i.y=50,i.size=60,i.textColor=16777215,i.width=egret.MainContext.instance.stage.stageWidth,i.height=80,i.lineSpacing=5,i.textAlign=egret.HorizontalAlign.CENTER,i.verticalAlign=egret.VerticalAlign.MIDDLE,i.bold=!0,this.addChild(i)},e.prototype.Createbtn=function(){var t=850,e=new egret.Shape;e.graphics.beginFill(16741186),e.graphics.drawRect(0,0,500,80),e.graphics.endFill(),this.addChild(e),e.y=t,e.x=egret.MainContext.instance.stage.stageWidth/2,e.anchorOffsetX=e.width/2;var i=new egret.TextField;i.text="更多游戏",i.x=egret.MainContext.instance.stage.stageWidth/2,i.y=t+20,i.size=35,i.textColor=16777215,i.anchorOffsetX=i.width/2,this.addChild(i),e.addEventListener(egret.TouchEvent.TOUCH_TAP,function(){top.window.location.href="http://wx.1758.com/play/gamebox/123?ex1758=1&tp=full&yn=%E5%B0%8F%E6%B8%B8%E6%88%8F&title=%E5%B0%8F%E6%B8%B8%E6%88%8F&chn="},this)},e.prototype.CrateDown=function(){var t=0,e=this.createBitmapByName(configData.downUrl[t].img);e.width=egret.MainContext.instance.stage.stageWidth,e.y=egret.MainContext.instance.stage.stageHeight-100,e.height=100,this.addChild(e),e.touchEnabled=!0,e.addEventListener(egret.TouchEvent.TOUCH_BEGIN,function(){top.window.location.href=configData.downUrl[t].url},this)},e.prototype.createBitmapByName=function(t){var e=new egret.Bitmap,i=RES.getRes(t);return e.texture=i,e},e}(egret.DisplayObjectContainer);__reflect(gameOver.prototype,"gameOver");var start=function(t){function e(){var e=t.call(this)||this;return e.addEventListener(egret.Event.ADDED_TO_STAGE,e.onAddToStage,e),e}return __extends(e,t),e.prototype.onAddToStage=function(){var t=this.createBitmapByName("gamebg_png");this.addChild(t),this.CrateDown();var e=new egret.TextField;e.text=configData.titel,e.textColor=5541330,e.size=35,e.bold=!0,this.addChild(e),e.x=egret.MainContext.instance.stage.stageWidth/2,e.y=200,e.anchorOffsetX=e.width/2;var i=new egret.TextField;i.text=configData.dsc,i.lineSpacing=10,i.width=540,i.height=500,i.textColor=5541330,i.size=28,this.addChild(i),i.x=egret.MainContext.instance.stage.stageWidth/2,i.y=300,i.anchorOffsetX=i.width/2;var n=new egret.Shape;n.graphics.beginFill(5541330),n.graphics.drawRoundRect(0,0,500,80,50,50),n.graphics.endFill(),this.addChild(n),n.x=egret.MainContext.instance.stage.stageWidth/2-n.width/2,n.y=530;var a=new egret.TextField;a.text="开始测试",this.addChild(a),a.x=egret.MainContext.instance.stage.stageWidth/2-a.width/2,a.y=n.y+n.height/2-a.height/2,n.touchEnabled=!0,n.addEventListener(egret.TouchEvent.TOUCH_TAP,this.enterGame,this)},e.prototype.enterGame=function(){this.parent.removeChild(this);var t=new gamelayer(configData.gameLevel);configData.MainLayer.addChild(t)},e.prototype.createBitmapByName=function(t){var e=new egret.Bitmap,i=RES.getRes(t);return e.texture=i,e},e.prototype.CrateDown=function(){var t=0,e=this.createBitmapByName(configData.downUrl[t].img);e.width=egret.MainContext.instance.stage.stageWidth,e.y=0,e.height=100,this.addChild(e),e.touchEnabled=!0,e.addEventListener(egret.TouchEvent.TOUCH_BEGIN,function(){top.window.location.href=configData.downUrl[t].url},this)},e}(egret.DisplayObjectContainer);__reflect(start.prototype,"start");